import{R as c,j as d,a as m}from"./index-7b4c87f6.js";const M="data:image/webp;base64,UklGRtAAAABXRUJQVlA4TMMAAAAvJUAJEL9gpm0bdz2Hb/xxjImZtm3c9Ry+8cexz0zbNu56Dt/449inNpKt5AORu8TWL61RgKXUQBSAuxO7K9oKdOQkAhINBQQEBA4aNMnHxcXCnpnXdv7/MLANADZJihO8Rf4/VWMTY4jov4G0bf5UwbkJ+HCbs7P/oimx4IoeJLPiiQlrcCm6BC5H1QTQoFOhUnqnVT7T6ufBIN+XaawMith2WBrUhBXFuCPeDHpS96aMooqmSC077ktzNpAIkgf8uusA";function A({children:l}){const{modals:t,closeModal:n}=h(),s=o=>{o instanceof KeyboardEvent&&o.key==="Escape"&&n(),o instanceof MouseEvent&&i(o)},i=o=>{o.target instanceof HTMLElement&&o.target.classList.contains("modal")&&n()};return c.useEffect(()=>(document.addEventListener("keydown",s),document.addEventListener("click",s),()=>{t.length<=0&&(n(),document.removeEventListener("keydown",s),document.removeEventListener("click",s))}),[t]),d("div",{className:"modal",children:m("div",{className:"modal-main",children:[d("img",{src:M,alt:"",className:"modal-close",onClick:()=>n()}),l]})})}const r=c.createContext({});function C({children:l}){const[t,n]=c.useState([]),[s,i]=c.useState(!1),o=a=>{document.body.classList.contains("modal-open")||document.body.classList.add("modal-open"),i(!0);const e=t;e.unshift(d(A,{children:a})),n([...e])},u=a=>{if(a){const e=t.filter((v,f)=>f!==a);n(e)}else{const e=t;e.shift(),e.length<=0&&document.body.classList.contains("modal-open")&&document.body.classList.remove("modal-open"),n([...e])}};return m(r.Provider,{value:{openModal:o,closeModal:u,modals:t},children:[l,s&&t.map((a,e)=>d(c.Fragment,{children:a},e))]})}function h(){return c.useContext(r)}export{C as default,h as useModal};
