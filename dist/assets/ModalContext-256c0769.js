import{R as n,j as d,a as i}from"./index-d47177ab.js";const C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGBSURBVHgB7dcxaoRAFAbgp7uGCIG0HiBNuhUhVQ6wF5CUaxAbu1SpUuUAOYAWm9oL5ACpdbex2jbFlkIQEkHzJmFBwkaf86bL/DA4AzPwMc48dwF0dHR0/knCMLwARuI4dkSjzjcpkxC1MgwjwecSJCJATdM8ieb7/hllDQlmmqYhnoi7n4o7oLquc7Btsyx7p6ybUSbleb7xPE/gFoi7dl13XxTFbmxdH4XrXtM0fQRiSDAZXB+Fw11VVQ9lWX4CMWTYFNwR1B31FUrBKDgVKCnYEE4VSsQARqIoChCxEn18rvH2LlWgRKR27JDezl0h6gZR59jfcFEipDo2FMuyXvB1zhB1gsNvGBclwtqx3pk6xeEbtgrbJZ45wDO3BUakYUcO+q1t2x/wcyEWXJwU7K/b9+u2snCTYWMlQRVuEoxap1TgyLCpxZOLI8FkKzoHNwrjfmZkcaMFtq5raNsWgPGZSZJkjahn0Z/P53tQlSAIHOpP4qFw/zfo6Ojo6CjIF1gzfWENRFAHAAAAAElFTkSuQmCC";function f({children:A}){const{modals:o,closeModal:t}=g(),l=a=>{a.key==="Escape"&&t()},c=a=>{a.target.classList.contains("modal")&&t()};return n.useEffect(()=>(document.addEventListener("keydown",l),document.addEventListener("click",c),()=>{o.length<=0&&(t(),document.removeEventListener("keydown",l),document.removeEventListener("click",c))}),[o]),d("div",{className:"modal",children:i("div",{className:"modal-main",children:[d("img",{src:C,alt:"",className:"modal-close",onClick:()=>t()}),A]})})}const m=n.createContext({});function w({children:A}){const[o,t]=n.useState([]),[l,c]=n.useState(!1),a=s=>{document.body.classList.contains("modal-open")||document.body.classList.add("modal-open"),c(!0);const e=o;e.unshift(d(f,{children:s})),t([...e])},r=s=>{if(s){const e=o.filter((M,u)=>u!==s);t(e)}else{const e=o;console.log(e),e.shift(),e.length<=0&&document.body.classList.contains("modal-open")&&(console.log(document.body.classList),document.body.classList.remove("modal-open")),t([...e])}};return i(m.Provider,{value:{openModal:a,closeModal:r,modals:o},children:[A,l&&o.map((s,e)=>d(n.Fragment,{children:s},e))]})}const g=()=>n.useContext(m);export{w as default,g as useModal};
